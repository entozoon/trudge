'use strict';var game,graphics,creatures=[],physicalObjects=[];window.onload=function(){game=new Phaser.Game({width:200,height:200,antialias:!1,renderer:Phaser.CANVAS,state:{preload:preload,create:create,update:update,render:render}})};var preload=function(){game.load.image('heroSprite','sprites/hero.png'),game.load.image('creatureSprite','sprites/creature.png')},create=function(){game.scale.scaleMode=Phaser.ScaleManager.RESIZE,game.scale.parentIsWindow=!0,graphics=game.add.graphics(0,0),creatures.push(new Creature({x:100,y:100,velocity:{x:100,y:0}})),creatures.push(new Creature({x:200,y:100,velocity:{x:0,y:0}})),creatures.push(new Creature({sprite:game.add.sprite(41,42,'heroSprite'),x:300,y:100,velocity:{x:0,y:0}}))},update=function(){creatures.forEach(function(a){a.update()})},render=function(){graphics.clear(),graphics.beginFill(15658734,1),graphics.drawRect(0,0,game.width,game.height),graphics.endFill(),creatures.forEach(function(a){a.render()})};
'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Creature=function(){function a(b){_classCallCheck(this,a),b=b?b:{},this.sprite=b.sprite?b.sprite:game.add.sprite(41,42,'creatureSprite'),console.log(this.sprite.body),game.physics.arcade.enableBody(this.sprite),this.sprite.body.setSize(24,26,11,7),this.sprite.body.immovable=!1,this.sprite.x=b.x?b.x:99,this.sprite.y=b.y?b.y:99,this.sprite.body.velocity=b.velocity?b.velocity:null,physicalObjects.push(this.sprite)}return _createClass(a,[{key:'getSprite',value:function getSprite(){return this.sprite}},{key:'collisionHandler',value:function collisionHandler(b){b.body.velocity={x:0,y:0},b.tint=16711680}},{key:'update',value:function update(){game.physics.arcade.collide(this.sprite,physicalObjects,this.collisionHandler,null,this)}},{key:'render',value:function render(){game.debug.body(this.sprite)}}]),a}();
